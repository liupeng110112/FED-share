<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>发布订阅</title>
    <script src="jquery-debug.js"></script>
    <script src="pubSub.js"></script>
</head>

<body>
    <script>
    // 采用发布订阅的模式
    $.subscribe('done', f2)
    // f2的执行需要f1的结果
    function f1(callback) {
        setTimeout(
        function() {
            // f1的任务代码
            var name = "liu peng"
            $.publish('done',name)
        }, 1000);
    }

    function f2(e,name) {
        alert(name);
    }

    f1()

    </script>
</body>

</html>
