<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>事件监听</title>
    <script src="jquery-debug.js"></script>
</head>

<body>
    <script>
    var obj = $({})
    // f2的执行需要f1的结果
    function f1(callback) {
        setTimeout(
        function() {
            // f1的任务代码
            var name = "liu peng"
            // 触发事件
            obj.trigger('done', name)
        }, 1000);
    }

    function f2(e,name) {
        alert(name);
    }
    // 自定义事件
    obj.on('done',f2)

    f1();
    </script>
</body>

</html>
